<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Be Prepared - Farmpact</title>
    <link rel="stylesheet" href="be-prepared.css">
</head>
<body>
        <!-- Navbar -->
        <nav>
            <div class="logo">
                <img src="logo.png" alt="Farmpact Logo" class="logo-img">
                <span class="site-name">Farmpact</span>
            </div>
            <ul class="menu">
                <li><a href="index.html">Home</a></li>
                <li>
                    <a href="book-crops.html">Book Crop</a>
                    <ul class="dropdown">
                        <li>Book New Crop</li>
                        <li>Dynamic Price Calculator</li>
                        <li>Previous Booking</li>
                        <li>Current Market Price</li>
                        <li>Payment Methods</li>
                    </ul>
                </li>
                <li>
                    <a href="crop-monitoring.html">Crop Monitoring</a>
                    <ul class="dropdown">
                        <li>Soil Analysis</li>
                        <li>Crop Pattern</li>
                        <li>Disease Prediction</li>
                        <li>Fertilizer Check</li>
                    </ul>
                </li>
                <li>
                    <a href="be-prepared.html">Be Prepared</a>
                    <ul class="dropdown">
                        <li>Weather Forecast</li>
                        <li>Nearby Wholesalers</li>
                        <li>Risk Reduction</li>
                        <li>Rent Tools</li>
                    </ul>
                </li>
                <li>
                    <a href="smart-farming.html">Smart Farming</a>
                    <ul class="dropdown">
                        <li>Waste Reduction</li>
                        <li>Carbon Footprint</li>
                        <li>Water Footprint</li>
                        <li>Alternative Sustainable Practices</li>
                    </ul>
                </li>
                <li>
                    <a href="research_request.html">Researcher's Request</a>
                    <ul class="dropdown">
                        <li>Data Analytics</li>
                        <li>Request Sample</li>
                        <li>Talk to Farmer</li>
                    </ul>
                </li>
                <li>
                    <a href="connect.html">Connect</a>
                </li>
                <li><a href="#our-process">Our Process</a></li>
                <li><a href="#contact">Contact</a></li>
                <li><a href="up-session.html">Upcoming Sessions</a></li>
            </ul>
        </nav>

    <div class="be-prepared-section">
        <h1>Be Prepared</h1>

        <!-- Weather Forecast Section -->
        <div class="section">
            <h2>Weather Forecast</h2>
            <div id="weatherWidget">
                <h4>Current Weather</h4>
                <div id="weatherInfo">
                    <!-- Weather info will be displayed here -->
                </div>
            </div>
        </div>

        <!-- Risk Reduction Section -->
        <div class="section">
            <h2>Risk Reduction</h2>
            <div id="riskAssessment">
                <!-- Risk assessment will be displayed here -->
            </div>
        </div>

        <!-- Nearby Wholesalers Section -->
        <div class="section">
            <h2>Nearby Wholesalers</h2>
            <button onclick="locateWholesalers()">Find Nearby Wholesalers</button>
            <div id="wholesalerList">
                <!-- List of wholesalers will appear here -->
            </div>
        </div>

        <!-- Rent Tools Section -->
        <div class="section">
            <h2>Rent Tools</h2>
            <button onclick="showTools()">Available Tools for Rent</button>
            <div id="toolList">
                <!-- List of tools will appear here -->
            </div>
        </div>
    </div>

    <script>
        // Weather and Risk Assessment
        let currentWeather = {};

        function assessRisk() {
            const riskAssessment = document.getElementById('riskAssessment');
            let risk = 'Low';
            let recommendation = 'Continue with standard farming practices.';

            if (currentWeather.condition === 'Rainy' || currentWeather.condition === 'Snow') {
                risk = 'High';
                recommendation = 'Consider protective measures for crops. Monitor for potential flooding or frost damage.';
            } else if (currentWeather.temp > 35 || currentWeather.temp < 5) {
                risk = 'Medium';
                recommendation = 'Monitor crop health closely. Implement temperature control measures if available.';
            } else if (currentWeather.humidity > 80) {
                risk = 'Medium';
                recommendation = 'Watch for potential fungal growth. Ensure proper ventilation.';
            }

            riskAssessment.innerHTML = `
                <h4>Current Risk Assessment</h4>
                <p>Risk Level: <strong>${risk}</strong></p>
                <p>Weather Condition: ${currentWeather.condition}</p>
                <p>Temperature: ${currentWeather.temp}째C</p>
                <p>Humidity: ${currentWeather.humidity}%</p>
                <p><strong>Recommendation:</strong> ${recommendation}</p>
            `;
            riskAssessment.style.display = 'block';
        }

        function simulateWeather() {
            const conditions = ['Sunny', 'Cloudy', 'Rainy', 'Windy'];
            const condition = conditions[Math.floor(Math.random() * conditions.length)];
            const temp = Math.round(Math.random() * 30 + 5); // Temperature between 5째C and 35째C
            const humidity = Math.round(Math.random() * 60 + 40); // Humidity between 40% and 100%

            return { condition, temp, humidity };
        }

        function updateWeatherDisplay() {
            const weatherWidget = document.getElementById('weatherWidget');
            const weather = simulateWeather();
            currentWeather = weather;

            const weatherInfo = document.getElementById('weatherInfo');
            weatherInfo.innerHTML = `
                <p>Condition: ${weather.condition}</p>
                <p>Temperature: ${weather.temp}째C</p>
                <p>Humidity: ${weather.humidity}%</p>
            `;

            weatherWidget.classList.add('show');

            setTimeout(() => {
                weatherWidget.classList.remove('show');
            }, 5000);

            assessRisk();
        }

        setInterval(updateWeatherDisplay, 30000); // Update every 30 seconds
        updateWeatherDisplay();

        // Nearby Wholesalers Simulation
        function locateWholesalers() {
            const wholesalers = [
                "Wholesaler A - 5 km away",
                "Wholesaler B - 7 km away",
                "Wholesaler C - 10 km away"
            ];
            const wholesalerList = document.getElementById('wholesalerList');
            wholesalerList.innerHTML = `<ul>${wholesalers.map(wholesaler => `<li>${wholesaler}</li>`).join('')}</ul>`;
        }

        // Tool Rental Simulation
        function showTools() {
            const tools = [
                "Tractor - $100/day",
                "Seeder - $50/day",
                "Sprayer - $30/day",
                "Harvester - $120/day"
            ];
            const toolList = document.getElementById('toolList');
            toolList.innerHTML = `<ul>${tools.map(tool => `<li>${tool}</li>`).join('')}</ul>`;
        }
    </script>
</body>
</html>
